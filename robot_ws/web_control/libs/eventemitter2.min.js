!function(t){function e(){}function n(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function r(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&r(t.listener)}function i(t){return"function"==typeof t?{listener:t,once:!1}:t}function s(t,e){return this._events||(this._events={}),this._events[t]?void this._events[t].push(i(e)):void(this._events[t]=[i(e)])}function o(t,e){var r=this._events&&this._events[t];if(!r)return!1;for(var i,s=0;s<r.length;s++)(i=r[s]).listener===e&&(r.splice(s,1),s--);return 0===r.length&&delete this._events[t],!0}function f(t){if(!this._events)return!1;if(!t)return this._events={},!0;return delete this._events[t],!0}function u(t,e){var n=this._events&&this._events[t];if(!n)return!1;for(var r=0;r<n.length;r++){var i=n[r];i.listener.apply(this,e),i.once&&(n.splice(r,1),r--)}return!0}function v(t){if(!this._events)return[];var e=this._events[t];return e?e.map((function(t){return t.listener})):[]}var h=function(t){t=t||{},this._events=Object.create(null),this._conf=t};h.prototype.on=h.prototype.addListener=s,h.prototype.once=function(t,e){return this.on(t,{listener:e,once:!0})},h.prototype.off=h.prototype.removeListener=o,h.prototype.removeAllListeners=f,h.prototype.emit=function(t){var e=[].slice.call(arguments,1);return u.call(this,t,e)},h.prototype.listeners=v,t.EventEmitter2=h}("undefined"!=typeof window?window:global);
